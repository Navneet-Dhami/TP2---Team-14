<!doctype html>
<html lang="en" xmlns:th="http://www.thymleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}" />
    <script type="text/javascript" th:src="@{/js/script.js}" defer></script>
    <title> Admin Report Page </title>
</head>

<body>
    <section class="nav-space">
    <nav class="navigation">
        <div class="logo">Soundwaves</div>
        <a href="#" class="dropdown">
            <span class="list"></span>
            <span class="list"></span>
            <span class="list"></span>
            <span class="list"></span>
        </a>
        <div class="navigation-links">
            <ul>
                <li><a th:href="@{/admin/adminHome}">Admin-Home</a></li>
                <li><a th:href="@{/index}">Home</a></li>
                <li><a th:href="@{/products}">Products</a></li>
                <li><a th:href="@{/contact}">Contact us</a></li>
                <li> <i class="fa fa-sun-o" style="font-size:25px" id="darkmode"></i></li>
                <form th:action="@{/logout}" method="post">
                    <input type="submit" value="Logout!" />
                </form>
            </ul>
        </div>
    </nav>
    </section>
    
    <h1> Soundwaves Inventory Report </h1>
    <br>
    <i> <h2> Generated On <span th:text="${date.date}"></span> at <span th:text="${date.time}"></span> </h2> </i>
    <br> 
    <h3> Stock Levels</h3>
    <table class="table">
        <tr>
            <th scope="col">Product Name</th>
            <th scope="col">Category</th>
            <th scope="col">Stock</th>
        </tr>

        <tr th:each="product : ${products}">
            <td th:text="${product.name}"></td>
            <td th:text="${product.category.categoryName}"></td>
            <td th:text="${product.stock}"></td>
        </tr>
    </table>
    <br>
    <h3> Incoming Orders </h3>
    <table class="table">
        <tr>
            <th scope="col">User ID</th>
            <th scope="col">User Email</th>
            <th scope="col">Purchase Date</th>
            <th scope="col">Order ID</th>
            <th scope="col">Order Name</th>
            <th scope="col">Order Quantity</th>
            <th scope="col">Order Price</th>
            <th scope="col">Order Status</th>
        </tr>
        <tr th:each="order : ${orders}">
            <div th:if="${order.orderStatus == order.orderStatus.PENDING}"> 
                <td th:text="${order.user.id}"></td>
                <td th:text="${order.user.email}"></td>
                <td th:text="${order.dateOrdered}"></td>
                <td th:text="${order.id}"></td>
                <td th:text="${order.productName}"></td>
                <td th:text="${order.quantity}"></td>
                <td th:text="${order.totalAmount}"></td>
                <td th:text="${order.orderStatus}"></td>
            </div>
        </tr>
    </table>
    <br>
    <h3> Outgoing Orders </h3>
    <table class="table">
        <tr>
            <th scope="col">User ID</th>
            <th scope="col">User Email</th>
            <th scope="col">Purchase Date</th>
            <th scope="col">Order ID</th>
            <th scope="col">Order Name</th>
            <th scope="col">Order Quantity</th>
            <th scope="col">Order Price</th>
            <th scope="col">Order Status</th>
        </tr>
        <tr th:each="order : ${orders}">
            <div th:if="${order.orderStatus == order.orderStatus.SHIPPED or order.orderStatus == order.orderStatus.DELIVERED or order.orderStatus == order.orderStatus.CANCELLED}"> 
                <td th:text="${order.user.id}"></td>
                <td th:text="${order.user.email}"></td>
                <td th:text="${order.dateOrdered}"></td>
                <td th:text="${order.id}"></td>
                <td th:text="${order.productName}"></td>
                <td th:text="${order.quantity}"></td>
                <td th:text="${order.totalAmount}"></td>
                <td th:text="${order.orderStatus}"></td>
            </div>
        </tr>
    </table>

    </body>

    <footer class="site-footer">
        <div class="fcontainer">
        <div class="row">
            <div class="fcol">
            <h6>About</h6>
            <p class="text-justify">We are a group of 10 university students who have come together to make this e-commerce website!
    This website has been made for those who love music! We offer products such as
    headphones, speakers and much more.</p>
            </div>

            <div class="fcol">
            <h6>Links</h6>
            <ul class="footer-links">
                <li><a th:href="@{/products}">Products</a></li>
                <li><a th:href="@{/aboutus}">About Us</a></li>
                <li><a th:href="@{/contact}">Contact Us</a></li>
                <li><a th:href="@{/login}">Login</a></li>
                <li><a th:href="@{/cart}">View Cart</a></li>
            </ul>
            </div>

            <div class="fcol">
            <h6>Contact Us</h6>
            <ul class="footer-links">
                <li><p>If you have any queries or any unanswered questions - please contact us on:</p></li>
                <li><strong>Phone Number:</strong> 07362837201</p></li>
                <li><strong>Email:</strong> SoundwavesLTD@hotmail.co.uk</p></li>
                <li><strong>Store Address:</strong> 64 Harrington Lane</p></li>
            </ul>
            </div>

        </div>
        <hr>
        </div>


        <div class="fcontainer">
        <div class="row">
            <div class="fcol1">
            <p class="copyright-text">Copyright &copy; 2023 All Rights Reserved by 
        <a href="#">Soundwaves</a>.
            </p>
            </div>

            <div class="fcol1">
            <ul class="social-icons">
                <li><a class="facebook" href="#"><i class="fa fa-github"></i></a></li>
                <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                <li><a class="linkedin" href="#"><i class="fa fa-github"></i></a></li>   
            </ul>
            </div>
        </div>
        </div>
    </footer>

</html>